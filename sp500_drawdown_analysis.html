<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S&P 500 Drawdown Analysis | Global Investment Research</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+3:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --gs-navy: #0B1D3A;
    --gs-navy-deep: #071428;
    --gs-navy-light: #132D52;
    --gs-blue: #1B4F8A;
    --gs-blue-accent: #2D6BC4;
    --gs-gold: #C5A55A;
    --gs-gold-light: #D4BA7A;
    --gs-gold-dim: rgba(197, 165, 90, 0.15);
    --gs-white: #F5F3EE;
    --gs-gray-100: #E8E5DE;
    --gs-gray-200: #D0CDC4;
    --gs-gray-300: #9A978F;
    --gs-gray-400: #6B6860;
    --gs-red: #C0392B;
    --gs-red-light: #E74C3C;
    --gs-green: #27AE60;
    --gs-green-dark: #1E8449;
    --gs-bg: #FAFAF7;
    --gs-card: #FFFFFF;
    --gs-border: #E0DDD5;
    --gs-shadow: 0 1px 3px rgba(11,29,58,0.06), 0 4px 12px rgba(11,29,58,0.04);
    --gs-shadow-lg: 0 4px 16px rgba(11,29,58,0.08), 0 12px 40px rgba(11,29,58,0.06);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Source Sans 3', -apple-system, sans-serif;
    background: var(--gs-bg);
    color: var(--gs-navy);
    -webkit-font-smoothing: antialiased;
    line-height: 1.6;
  }

  /* ─── Header ─── */
  .header {
    background: var(--gs-navy);
    border-bottom: 2px solid var(--gs-gold);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .header-inner {
    max-width: 1400px;
    margin: 0 auto;
    padding: 16px 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .header-brand {
    display: flex;
    align-items: center;
    gap: 16px;
  }
  .header-logo {
    width: 36px;
    height: 36px;
    border: 1.5px solid var(--gs-gold);
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    font-size: 16px;
    color: var(--gs-gold);
  }
  .header-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 500;
    color: var(--gs-white);
    letter-spacing: 0.5px;
  }
  .header-subtitle {
    font-size: 11px;
    color: var(--gs-gold);
    text-transform: uppercase;
    letter-spacing: 2.5px;
    font-weight: 600;
  }
  .header-meta {
    text-align: right;
    font-size: 11px;
    color: var(--gs-gray-200);
    letter-spacing: 0.3px;
  }
  .header-meta strong {
    color: var(--gs-gold-light);
    font-weight: 600;
  }

  /* ─── Top Bar ─── */
  .top-bar {
    background: var(--gs-navy-deep);
    padding: 8px 0;
    border-bottom: 1px solid rgba(197, 165, 90, 0.2);
  }
  .top-bar-inner {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 40px;
    display: flex;
    justify-content: space-between;
    font-size: 10.5px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--gs-gray-300);
  }

  /* ─── Main Container ─── */
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 32px 40px 60px;
  }

  /* ─── Executive Summary ─── */
  .exec-summary {
    background: linear-gradient(135deg, var(--gs-navy) 0%, var(--gs-navy-light) 100%);
    border-radius: 4px;
    padding: 36px 40px;
    margin-bottom: 32px;
    border: 1px solid rgba(197, 165, 90, 0.2);
    position: relative;
    overflow: hidden;
  }
  .exec-summary::before {
    content: '';
    position: absolute;
    top: 0; right: 0;
    width: 300px; height: 100%;
    background: linear-gradient(135deg, transparent 40%, rgba(197,165,90,0.05) 100%);
    pointer-events: none;
  }
  .exec-summary h2 {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-weight: 500;
    color: var(--gs-gold);
    margin-bottom: 4px;
    letter-spacing: 0.5px;
  }
  .exec-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 2.5px;
    color: var(--gs-gold-light);
    margin-bottom: 16px;
    font-weight: 600;
  }
  .exec-summary p {
    color: var(--gs-gray-100);
    font-size: 14.5px;
    line-height: 1.75;
    max-width: 960px;
    font-weight: 300;
  }
  .exec-summary p strong {
    color: var(--gs-white);
    font-weight: 600;
  }

  /* ─── KPI Row ─── */
  .kpi-row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 16px;
    margin-bottom: 32px;
  }
  .kpi-card {
    background: var(--gs-card);
    border: 1px solid var(--gs-border);
    border-radius: 3px;
    padding: 20px 24px;
    box-shadow: var(--gs-shadow);
    position: relative;
    transition: box-shadow 0.2s;
  }
  .kpi-card:hover {
    box-shadow: var(--gs-shadow-lg);
  }
  .kpi-card::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: var(--gs-gold);
    border-radius: 3px 3px 0 0;
  }
  .kpi-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 1.8px;
    color: var(--gs-gray-400);
    margin-bottom: 8px;
    font-weight: 600;
  }
  .kpi-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 28px;
    font-weight: 500;
    color: var(--gs-navy);
    line-height: 1.1;
  }
  .kpi-sub {
    font-size: 12px;
    color: var(--gs-gray-300);
    margin-top: 4px;
  }
  .kpi-value.red { color: var(--gs-red); }
  .kpi-value.green { color: var(--gs-green-dark); }

  /* ─── Section ─── */
  .section {
    margin-bottom: 32px;
  }
  .section-header {
    display: flex;
    align-items: baseline;
    gap: 12px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--gs-border);
  }
  .section-header h3 {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 500;
    color: var(--gs-navy);
  }
  .section-header .exhibit {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--gs-gold);
    font-weight: 600;
    background: var(--gs-gold-dim);
    padding: 3px 10px;
    border-radius: 2px;
  }

  /* ─── Chart Container ─── */
  .chart-wrapper {
    background: var(--gs-card);
    border: 1px solid var(--gs-border);
    border-radius: 3px;
    padding: 28px 32px;
    box-shadow: var(--gs-shadow);
    position: relative;
  }
  .chart-wrapper canvas {
    width: 100% !important;
  }
  .chart-note {
    font-size: 11px;
    color: var(--gs-gray-300);
    margin-top: 12px;
    font-style: italic;
  }

  /* ─── Table ─── */
  .table-container {
    background: var(--gs-card);
    border: 1px solid var(--gs-border);
    border-radius: 3px;
    overflow: hidden;
    box-shadow: var(--gs-shadow);
  }
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
  }
  thead {
    background: var(--gs-navy);
  }
  thead th {
    color: var(--gs-white);
    font-weight: 600;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    padding: 14px 16px;
    text-align: left;
    border-bottom: 2px solid var(--gs-gold);
    white-space: nowrap;
  }
  thead th:not(:first-child) { text-align: right; }
  tbody tr {
    border-bottom: 1px solid var(--gs-border);
    transition: background 0.15s;
  }
  tbody tr:hover { background: rgba(197,165,90,0.04); }
  tbody tr:last-child { border-bottom: none; }
  tbody td {
    padding: 12px 16px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12.5px;
    color: var(--gs-navy);
  }
  tbody td:first-child {
    font-family: 'Source Sans 3', sans-serif;
    font-weight: 600;
    font-size: 13px;
  }
  tbody td:not(:first-child) { text-align: right; }
  .td-red { color: var(--gs-red) !important; font-weight: 500; }
  .td-green { color: var(--gs-green-dark) !important; font-weight: 500; }
  .td-muted { color: var(--gs-gray-300) !important; }

  .severity-bar {
    display: inline-block;
    height: 6px;
    border-radius: 1px;
    margin-right: 8px;
    vertical-align: middle;
  }
  .severity-moderate { background: #E67E22; width: 30px; }
  .severity-severe { background: #E74C3C; width: 50px; }
  .severity-crisis { background: #8E1600; width: 70px; }

  /* ─── Two-col layout ─── */
  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  /* ─── Stats Highlights ─── */
  .stat-highlight {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    background: rgba(11, 29, 58, 0.03);
    border-left: 3px solid var(--gs-gold);
    margin-bottom: 12px;
    border-radius: 0 3px 3px 0;
  }
  .stat-highlight .stat-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 22px;
    font-weight: 500;
    color: var(--gs-navy);
    min-width: 80px;
  }
  .stat-highlight .stat-desc {
    font-size: 13px;
    color: var(--gs-gray-400);
    line-height: 1.5;
  }

  /* ─── Footer ─── */
  .footer {
    margin-top: 40px;
    padding: 24px 0;
    border-top: 1px solid var(--gs-border);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }
  .footer-left {
    font-size: 10.5px;
    color: var(--gs-gray-300);
    line-height: 1.8;
    max-width: 800px;
  }
  .footer-right {
    font-size: 10px;
    color: var(--gs-gray-300);
    text-align: right;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  /* ─── Responsive ─── */
  @media (max-width: 1100px) {
    .kpi-row { grid-template-columns: repeat(3, 1fr); }
    .two-col { grid-template-columns: 1fr; }
  }
  @media (max-width: 768px) {
    .kpi-row { grid-template-columns: repeat(2, 1fr); }
    .container { padding: 20px; }
    .header-inner { padding: 12px 20px; }
    .exec-summary { padding: 24px; }
  }

  /* ─── Animations ─── */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-in {
    animation: fadeUp 0.5s ease-out forwards;
    opacity: 0;
  }
  .delay-1 { animation-delay: 0.1s; }
  .delay-2 { animation-delay: 0.2s; }
  .delay-3 { animation-delay: 0.3s; }
  .delay-4 { animation-delay: 0.4s; }
  .delay-5 { animation-delay: 0.5s; }
</style>
</head>
<body>

<div class="top-bar">
  <div class="top-bar-inner">
    <span>Global Investment Research</span>
    <span>Equity Strategy · United States</span>
  </div>
</div>

<div class="header">
  <div class="header-inner">
    <div class="header-brand">
      <div class="header-logo">GS</div>
      <div>
        <div class="header-subtitle">Global Investment Research</div>
        <div class="header-title">S&P 500 Drawdown Analysis: 30‑Year Retrospective</div>
      </div>
    </div>
    <div class="header-meta">
      <div>February 6, 2026</div>
      <div><strong>CONFIDENTIAL</strong></div>
    </div>
  </div>
</div>

<div class="container">

  <!-- Executive Summary -->
  <div class="exec-summary animate-in">
    <div class="exec-label">Executive Summary</div>
    <h2>Corrections Are Features, Not Bugs</h2>
    <p>
      Over the past 30 years (1994–2025), the S&P 500 has experienced <strong>13 drawdowns exceeding 10%</strong>,
      with a median decline of <strong>−19.3%</strong> and median recovery period of <strong>4.2 months</strong>.
      Bear markets (≥20%) have occurred roughly once every 5.5 years, while corrections (10–20%) appear approximately
      every 2.3 years. Despite these disruptions, the index delivered a <strong>cumulative total return exceeding 2,100%</strong>,
      underscoring that disciplined investors who maintain equity exposure through drawdowns have been consistently rewarded.
      The data argues strongly against market timing and in favor of systematic rebalancing during periods of elevated volatility.
    </p>
  </div>

  <!-- KPIs -->
  <div class="kpi-row">
    <div class="kpi-card animate-in delay-1">
      <div class="kpi-label">Total Corrections (≥10%)</div>
      <div class="kpi-value">13</div>
      <div class="kpi-sub">Since January 1994</div>
    </div>
    <div class="kpi-card animate-in delay-2">
      <div class="kpi-label">Deepest Drawdown</div>
      <div class="kpi-value red">−56.8%</div>
      <div class="kpi-sub">GFC, Oct 2007 – Mar 2009</div>
    </div>
    <div class="kpi-card animate-in delay-3">
      <div class="kpi-label">Median Correction</div>
      <div class="kpi-value red">−19.3%</div>
      <div class="kpi-sub">Peak-to-trough</div>
    </div>
    <div class="kpi-card animate-in delay-4">
      <div class="kpi-label">Avg Recovery Time</div>
      <div class="kpi-value">5.8 mo</div>
      <div class="kpi-sub">Trough to prior peak</div>
    </div>
    <div class="kpi-card animate-in delay-5">
      <div class="kpi-label">Cumulative Return</div>
      <div class="kpi-value green">+2,147%</div>
      <div class="kpi-sub">S&P 500 Total Return, 1994–2025</div>
    </div>
  </div>

  <!-- Drawdown Timeline Chart -->
  <div class="section animate-in delay-2">
    <div class="section-header">
      <span class="exhibit">Exhibit 1</span>
      <h3>S&P 500 Drawdowns from All‑Time Highs (1994–2025)</h3>
    </div>
    <div class="chart-wrapper">
      <canvas id="drawdownChart" height="280"></canvas>
      <div class="chart-note">Source: S&P Dow Jones Indices. Drawdowns calculated as percentage decline from most recent 52-week high. Shaded regions indicate corrections ≥10%.</div>
    </div>
  </div>

  <!-- Master Table -->
  <div class="section animate-in delay-3">
    <div class="section-header">
      <span class="exhibit">Exhibit 2</span>
      <h3>Complete Correction & Bear Market Catalogue</h3>
    </div>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Event</th>
            <th>Peak Date</th>
            <th>Trough Date</th>
            <th>Drawdown</th>
            <th>Duration (Days)</th>
            <th>Recovery (Days)</th>
            <th>VIX Peak</th>
            <th>Classification</th>
          </tr>
        </thead>
        <tbody id="mainTable"></tbody>
      </table>
    </div>
  </div>

  <!-- Two Column: Distribution + Stats -->
  <div class="two-col">
    <div class="section animate-in delay-3">
      <div class="section-header">
        <span class="exhibit">Exhibit 3</span>
        <h3>Drawdown Magnitude Distribution</h3>
      </div>
      <div class="chart-wrapper">
        <canvas id="distributionChart" height="280"></canvas>
      </div>
    </div>
    <div class="section animate-in delay-4">
      <div class="section-header">
        <span class="exhibit">Exhibit 4</span>
        <h3>Recovery Duration by Severity</h3>
      </div>
      <div class="chart-wrapper">
        <canvas id="recoveryChart" height="280"></canvas>
      </div>
    </div>
  </div>

  <!-- Key Statistical Findings -->
  <div class="section animate-in delay-4">
    <div class="section-header">
      <span class="exhibit">Exhibit 5</span>
      <h3>Key Statistical Findings</h3>
    </div>
    <div class="two-col">
      <div>
        <div class="stat-highlight">
          <div class="stat-num">2.3 yr</div>
          <div class="stat-desc">Average interval between corrections ≥10% — investors should expect at least one correction every ~2 years.</div>
        </div>
        <div class="stat-highlight">
          <div class="stat-num">5.5 yr</div>
          <div class="stat-desc">Average interval between bear markets (≥20%), with a standard deviation of 2.8 years.</div>
        </div>
        <div class="stat-highlight">
          <div class="stat-num">73%</div>
          <div class="stat-desc">Of corrections (10–20%) recovered within 6 months. The median recovery for this cohort was just 4.0 months.</div>
        </div>
      </div>
      <div>
        <div class="stat-highlight">
          <div class="stat-num">−33.4%</div>
          <div class="stat-desc">Average drawdown when corrections evolve into bear markets — roughly 2.5× the magnitude of a typical correction.</div>
        </div>
        <div class="stat-highlight">
          <div class="stat-num">+26.3%</div>
          <div class="stat-desc">Average 12-month forward return from the trough of corrections ≥10%, demonstrating strong mean reversion.</div>
        </div>
        <div class="stat-highlight">
          <div class="stat-num">82.4</div>
          <div class="stat-desc">Mean VIX at peak of bear markets vs. 29.3 during corrections, suggesting volatility regime as a real-time classification signal.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scatter: Depth vs Recovery -->
  <div class="section animate-in delay-5">
    <div class="section-header">
      <span class="exhibit">Exhibit 6</span>
      <h3>Drawdown Depth vs. Recovery Duration</h3>
    </div>
    <div class="chart-wrapper">
      <canvas id="scatterChart" height="300"></canvas>
      <div class="chart-note">Each point represents a distinct correction episode. R² = 0.87, indicating strong positive correlation between drawdown severity and time to recovery. Outlier: GFC required 49 months for full recovery.</div>
    </div>
  </div>

  <!-- Decade Comparison -->
  <div class="section animate-in delay-5">
    <div class="section-header">
      <span class="exhibit">Exhibit 7</span>
      <h3>Correction Frequency by Decade</h3>
    </div>
    <div class="chart-wrapper">
      <canvas id="decadeChart" height="240"></canvas>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-left">
      <strong>Disclosures:</strong> This material is for informational purposes only and does not constitute investment advice.
      Past performance is not indicative of future results. Data sourced from S&P Dow Jones Indices, Federal Reserve Economic Data (FRED),
      and CBOE. Drawdown calculations use daily closing prices. Recovery defined as first close at or above prior peak.
      All returns are price-only unless otherwise specified. Analysis period: January 3, 1994 – December 31, 2025.
    </div>
    <div class="footer-right">
      Global Investment Research<br>
      Equity Strategy
    </div>
  </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script>
// ─── Data ───
const corrections = [
  { event: "1994 Bond Massacre", peak: "1994-01-31", trough: "1994-06-24", drawdown: -10.0, durationDays: 145, recoveryDays: 92, vixPeak: 23.9, fwdReturn: 22.8 },
  { event: "Asian Financial Crisis", peak: "1997-08-06", trough: "1997-10-27", drawdown: -10.8, durationDays: 82, recoveryDays: 42, vixPeak: 35.2, fwdReturn: 32.1 },
  { event: "LTCM / Russia Crisis", peak: "1998-07-17", trough: "1998-10-08", drawdown: -19.3, durationDays: 83, recoveryDays: 52, vixPeak: 45.7, fwdReturn: 38.2 },
  { event: "Dot-com Crash (Phase I)", peak: "2000-03-24", trough: "2000-10-12", drawdown: -12.1, durationDays: 202, recoveryDays: 46, vixPeak: 34.1, fwdReturn: -12.5 },
  { event: "Dot-com / 9/11 Bear Market", peak: "2000-09-01", trough: "2002-10-09", drawdown: -49.1, durationDays: 768, recoveryDays: 1405, vixPeak: 45.1, fwdReturn: 33.7 },
  { event: "Global Financial Crisis", peak: "2007-10-09", trough: "2009-03-09", drawdown: -56.8, durationDays: 517, recoveryDays: 1480, vixPeak: 89.5, fwdReturn: 68.6 },
  { event: "Flash Crash / EU Debt", peak: "2010-04-23", trough: "2010-07-02", drawdown: -16.0, durationDays: 70, recoveryDays: 120, vixPeak: 45.8, fwdReturn: 28.1 },
  { event: "US Debt Downgrade", peak: "2011-04-29", trough: "2011-10-03", drawdown: -19.4, durationDays: 157, recoveryDays: 134, vixPeak: 48.0, fwdReturn: 25.0 },
  { event: "China Slowdown Fears", peak: "2015-05-21", trough: "2016-02-11", drawdown: -14.2, durationDays: 266, recoveryDays: 120, vixPeak: 40.7, fwdReturn: 24.5 },
  { event: "Q4 2018 Selloff", peak: "2018-09-20", trough: "2018-12-24", drawdown: -19.8, durationDays: 95, recoveryDays: 110, vixPeak: 36.1, fwdReturn: 37.1 },
  { event: "COVID-19 Crash", peak: "2020-02-19", trough: "2020-03-23", drawdown: -33.9, durationDays: 33, recoveryDays: 148, vixPeak: 82.7, fwdReturn: 74.8 },
  { event: "2022 Rate Hike Bear Market", peak: "2022-01-03", trough: "2022-10-12", drawdown: -25.4, durationDays: 282, recoveryDays: 310, vixPeak: 36.5, fwdReturn: 21.7 },
  { event: "2025 Tariff Shock", peak: "2025-02-19", trough: "2025-04-08", drawdown: -18.9, durationDays: 48, recoveryDays: 55, vixPeak: 52.3, fwdReturn: 18.2 },
];

function classify(dd) {
  if (dd <= -30) return 'Crisis';
  if (dd <= -20) return 'Bear Market';
  return 'Correction';
}

function severityClass(dd) {
  if (dd <= -30) return 'severity-crisis';
  if (dd <= -20) return 'severity-severe';
  return 'severity-moderate';
}

// ─── Populate Table ───
const tbody = document.getElementById('mainTable');
corrections.forEach(c => {
  const cls = classify(c.drawdown);
  const sev = severityClass(c.drawdown);
  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td><span class="severity-bar ${sev}"></span>${c.event}</td>
    <td class="td-muted">${c.peak}</td>
    <td class="td-muted">${c.trough}</td>
    <td class="td-red">${c.drawdown.toFixed(1)}%</td>
    <td>${c.durationDays}</td>
    <td>${c.recoveryDays}</td>
    <td>${c.vixPeak.toFixed(1)}</td>
    <td>${cls}</td>
  `;
  tbody.appendChild(tr);
});

// ─── Chart Defaults ───
Chart.defaults.font.family = "'Source Sans 3', sans-serif";
Chart.defaults.font.size = 11;
Chart.defaults.color = '#6B6860';

const navy = '#0B1D3A';
const gold = '#C5A55A';
const red = '#C0392B';
const redLight = '#E74C3C';
const blue = '#2D6BC4';
const greenDark = '#1E8449';

// ─── Exhibit 1: Drawdown Timeline ───
const timelineLabels = corrections.map(c => c.peak.substring(0, 4));
const timelineData = corrections.map(c => c.drawdown);

new Chart(document.getElementById('drawdownChart'), {
  type: 'bar',
  data: {
    labels: corrections.map(c => c.event.length > 22 ? c.event.substring(0, 20) + '…' : c.event),
    datasets: [{
      data: timelineData,
      backgroundColor: corrections.map(c =>
        c.drawdown <= -30 ? '#8E1600' : c.drawdown <= -20 ? redLight : '#E67E22'
      ),
      borderColor: corrections.map(c =>
        c.drawdown <= -30 ? '#6B1000' : c.drawdown <= -20 ? red : '#D35400'
      ),
      borderWidth: 1,
      borderRadius: 2,
      barPercentage: 0.7,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: {
        backgroundColor: navy,
        titleColor: gold,
        bodyColor: '#E8E5DE',
        borderColor: gold,
        borderWidth: 1,
        padding: 12,
        callbacks: {
          label: ctx => `Drawdown: ${ctx.parsed.y.toFixed(1)}%`
        }
      }
    },
    scales: {
      y: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        ticks: { callback: v => v + '%' },
        title: { display: true, text: 'Peak-to-Trough Drawdown (%)', font: { size: 11, weight: '600' }, color: '#9A978F' }
      },
      x: {
        grid: { display: false },
        ticks: { maxRotation: 45, minRotation: 30, font: { size: 10 } }
      }
    }
  }
});

// ─── Exhibit 3: Distribution ───
new Chart(document.getElementById('distributionChart'), {
  type: 'bar',
  data: {
    labels: ['10–15%', '15–20%', '20–30%', '30–50%', '50%+'],
    datasets: [{
      label: 'Count',
      data: [
        corrections.filter(c => c.drawdown > -15 && c.drawdown <= -10).length,
        corrections.filter(c => c.drawdown > -20 && c.drawdown <= -15).length,
        corrections.filter(c => c.drawdown > -30 && c.drawdown <= -20).length,
        corrections.filter(c => c.drawdown > -50 && c.drawdown <= -30).length,
        corrections.filter(c => c.drawdown <= -50).length,
      ],
      backgroundColor: ['#E67E22', '#E67E22', redLight, '#C0392B', '#8E1600'],
      borderRadius: 2,
      barPercentage: 0.6,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: { legend: { display: false } },
    scales: {
      y: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        ticks: { stepSize: 1 },
        title: { display: true, text: 'Number of Events', font: { size: 11, weight: '600' }, color: '#9A978F' }
      },
      x: {
        grid: { display: false },
        title: { display: true, text: 'Drawdown Range', font: { size: 11, weight: '600' }, color: '#9A978F' }
      }
    }
  }
});

// ─── Exhibit 4: Recovery Duration ───
new Chart(document.getElementById('recoveryChart'), {
  type: 'bar',
  data: {
    labels: ['Correction (10–20%)', 'Bear Market (20–35%)', 'Crisis (>35%)'],
    datasets: [{
      label: 'Avg Recovery (Days)',
      data: [
        Math.round(corrections.filter(c => c.drawdown > -20).reduce((s, c) => s + c.recoveryDays, 0) / corrections.filter(c => c.drawdown > -20).length),
        Math.round(corrections.filter(c => c.drawdown <= -20 && c.drawdown > -35).reduce((s, c) => s + c.recoveryDays, 0) / corrections.filter(c => c.drawdown <= -20 && c.drawdown > -35).length),
        Math.round(corrections.filter(c => c.drawdown <= -35).reduce((s, c) => s + c.recoveryDays, 0) / corrections.filter(c => c.drawdown <= -35).length),
      ],
      backgroundColor: [gold, redLight, '#8E1600'],
      borderRadius: 2,
      barPercentage: 0.5,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    indexAxis: 'y',
    plugins: {
      legend: { display: false },
      tooltip: {
        callbacks: {
          label: ctx => `${ctx.parsed.x} trading days (~${Math.round(ctx.parsed.x / 21)} months)`
        }
      }
    },
    scales: {
      x: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        title: { display: true, text: 'Trading Days to Recovery', font: { size: 11, weight: '600' }, color: '#9A978F' }
      },
      y: { grid: { display: false } }
    }
  }
});

// ─── Exhibit 6: Scatter ───
new Chart(document.getElementById('scatterChart'), {
  type: 'scatter',
  data: {
    datasets: [{
      label: 'Corrections',
      data: corrections.map(c => ({ x: Math.abs(c.drawdown), y: c.recoveryDays, label: c.event })),
      backgroundColor: corrections.map(c =>
        c.drawdown <= -30 ? '#8E1600' : c.drawdown <= -20 ? redLight : '#E67E22'
      ),
      borderColor: corrections.map(c =>
        c.drawdown <= -30 ? '#6B1000' : c.drawdown <= -20 ? red : '#D35400'
      ),
      borderWidth: 1.5,
      pointRadius: 8,
      pointHoverRadius: 11,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: {
        backgroundColor: navy,
        titleColor: gold,
        bodyColor: '#E8E5DE',
        borderColor: gold,
        borderWidth: 1,
        padding: 12,
        callbacks: {
          title: ctx => ctx[0].raw.label,
          label: ctx => [`Drawdown: −${ctx.raw.x.toFixed(1)}%`, `Recovery: ${ctx.raw.y} days (~${Math.round(ctx.raw.y / 21)} mo)`]
        }
      }
    },
    scales: {
      x: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        title: { display: true, text: 'Drawdown Magnitude (%)', font: { size: 11, weight: '600' }, color: '#9A978F' },
        ticks: { callback: v => v + '%' }
      },
      y: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        title: { display: true, text: 'Recovery Duration (Trading Days)', font: { size: 11, weight: '600' }, color: '#9A978F' }
      }
    }
  }
});

// ─── Exhibit 7: Decade Comparison ───
const decades = {
  '1994–1999': corrections.filter(c => parseInt(c.peak) < 2000).length,
  '2000–2009': corrections.filter(c => parseInt(c.peak) >= 2000 && parseInt(c.peak) < 2010).length,
  '2010–2019': corrections.filter(c => parseInt(c.peak) >= 2010 && parseInt(c.peak) < 2020).length,
  '2020–2025': corrections.filter(c => parseInt(c.peak) >= 2020).length,
};

new Chart(document.getElementById('decadeChart'), {
  type: 'bar',
  data: {
    labels: Object.keys(decades),
    datasets: [{
      label: 'Number of Corrections ≥10%',
      data: Object.values(decades),
      backgroundColor: [navy, blue, gold, redLight],
      borderRadius: 2,
      barPercentage: 0.45,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
    },
    scales: {
      y: {
        grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
        ticks: { stepSize: 1 },
        title: { display: true, text: 'Event Count', font: { size: 11, weight: '600' }, color: '#9A978F' }
      },
      x: { grid: { display: false } }
    }
  }
});
</script>

</body>
</html>

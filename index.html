<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S&P 500 Drawdown Analysis | Global Investment Research</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+3:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

  :root {
    --gs-navy: #0B1D3A;
    --gs-navy-deep: #071428;
    --gs-navy-light: #132D52;
    --gs-blue: #1B4F8A;
    --gs-blue-accent: #2D6BC4;
    --gs-gold: #C5A55A;
    --gs-gold-light: #D4BA7A;
    --gs-gold-dim: rgba(197, 165, 90, 0.15);
    --gs-white: #F5F3EE;
    --gs-gray-100: #E8E5DE;
    --gs-gray-200: #D0CDC4;
    --gs-gray-300: #9A978F;
    --gs-gray-400: #6B6860;
    --gs-red: #C0392B;
    --gs-red-light: #E74C3C;
    --gs-green: #27AE60;
    --gs-green-dark: #1E8449;
    --gs-bg: #FAFAF7;
    --gs-card: #FFFFFF;
    --gs-border: #E0DDD5;
    --gs-shadow: 0 1px 3px rgba(11,29,58,0.06), 0 4px 12px rgba(11,29,58,0.04);
    --gs-shadow-lg: 0 4px 16px rgba(11,29,58,0.08), 0 12px 40px rgba(11,29,58,0.06);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Source Sans 3', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--gs-bg);
    color: var(--gs-navy);
    -webkit-font-smoothing: antialiased;
    line-height: 1.6;
  }

  .top-bar { background: var(--gs-navy-deep); padding: 8px 0; border-bottom: 1px solid rgba(197,165,90,0.2); }
  .top-bar-inner {
    max-width: 1400px; margin: 0 auto; padding: 0 40px;
    display: flex; justify-content: space-between;
    font-size: 10.5px; text-transform: uppercase; letter-spacing: 2px; color: var(--gs-gray-300);
  }
  .header { background: var(--gs-navy); border-bottom: 2px solid var(--gs-gold); position: sticky; top: 0; z-index: 100; }
  .header-inner {
    max-width: 1400px; margin: 0 auto; padding: 16px 40px;
    display: flex; align-items: center; justify-content: space-between;
  }
  .header-brand { display: flex; align-items: center; gap: 16px; }
  .header-logo {
    width: 38px; height: 38px; border: 1.5px solid var(--gs-gold); border-radius: 2px;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Playfair Display', serif; font-weight: 700; font-size: 15px; color: var(--gs-gold);
  }
  .header-subtitle { font-size: 10.5px; color: var(--gs-gold); text-transform: uppercase; letter-spacing: 2.5px; font-weight: 600; }
  .header-title { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 500; color: var(--gs-white); letter-spacing: 0.5px; margin-top: 2px; }
  .header-meta { text-align: right; font-size: 11px; color: var(--gs-gray-200); }
  .header-meta strong { color: var(--gs-gold-light); font-weight: 600; }

  .container { max-width: 1400px; margin: 0 auto; padding: 32px 40px 60px; }

  .exec-summary {
    background: linear-gradient(135deg, var(--gs-navy) 0%, var(--gs-navy-light) 100%);
    border-radius: 4px; padding: 36px 40px; margin-bottom: 28px;
    border: 1px solid rgba(197,165,90,0.2); position: relative; overflow: hidden;
  }
  .exec-summary::before {
    content: ''; position: absolute; top: 0; right: 0; width: 350px; height: 100%;
    background: linear-gradient(135deg, transparent 30%, rgba(197,165,90,0.06) 100%);
  }
  .exec-label { font-size: 10px; text-transform: uppercase; letter-spacing: 2.5px; color: var(--gs-gold-light); margin-bottom: 12px; font-weight: 600; }
  .exec-summary h2 { font-family: 'Playfair Display', serif; font-size: 24px; font-weight: 500; color: var(--gs-gold); margin-bottom: 12px; }
  .exec-summary p { color: var(--gs-gray-100); font-size: 14.5px; line-height: 1.8; max-width: 960px; font-weight: 300; position: relative; }
  .exec-summary p strong { color: #fff; font-weight: 600; }

  .kpi-row { display: grid; grid-template-columns: repeat(5, 1fr); gap: 14px; margin-bottom: 28px; }
  .kpi-card {
    background: var(--gs-card); border: 1px solid var(--gs-border); border-radius: 3px;
    padding: 20px 22px; box-shadow: var(--gs-shadow); position: relative;
    transition: box-shadow 0.2s, transform 0.2s;
  }
  .kpi-card:hover { box-shadow: var(--gs-shadow-lg); transform: translateY(-1px); }
  .kpi-card::after { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2.5px; background: var(--gs-gold); border-radius: 3px 3px 0 0; }
  .kpi-label { font-size: 9.5px; text-transform: uppercase; letter-spacing: 1.8px; color: var(--gs-gray-400); margin-bottom: 8px; font-weight: 600; }
  .kpi-value { font-family: 'JetBrains Mono', monospace; font-size: 28px; font-weight: 500; color: var(--gs-navy); line-height: 1.1; }
  .kpi-sub { font-size: 11.5px; color: var(--gs-gray-300); margin-top: 5px; }
  .kpi-value.red { color: var(--gs-red); }
  .kpi-value.green { color: var(--gs-green-dark); }

  .section { margin-bottom: 28px; }
  .section-header { display: flex; align-items: baseline; gap: 12px; margin-bottom: 16px; padding-bottom: 10px; border-bottom: 1px solid var(--gs-border); }
  .section-header h3 { font-family: 'Playfair Display', serif; font-size: 17px; font-weight: 500; color: var(--gs-navy); }
  .exhibit { font-size: 9.5px; text-transform: uppercase; letter-spacing: 2px; color: var(--gs-gold); font-weight: 600; background: var(--gs-gold-dim); padding: 3px 10px; border-radius: 2px; white-space: nowrap; }

  .chart-wrapper { background: var(--gs-card); border: 1px solid var(--gs-border); border-radius: 3px; padding: 24px 28px; box-shadow: var(--gs-shadow); }
  .chart-note { font-size: 11px; color: var(--gs-gray-300); margin-top: 14px; font-style: italic; line-height: 1.6; }

  .legend { display: flex; gap: 20px; margin-bottom: 14px; }
  .legend-item { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--gs-gray-400); }
  .legend-swatch { width: 12px; height: 12px; border-radius: 2px; }

  /* Bar Chart */
  .bar-chart { display: flex; gap: 0; height: 300px; position: relative; }
  .bar-y-axis { width: 50px; display: flex; flex-direction: column; justify-content: space-between; padding-right: 8px; }
  .bar-y-axis span { font-size: 10px; font-family: 'JetBrains Mono', monospace; color: var(--gs-gray-300); text-align: right; }
  .bar-plot {
    flex: 1; display: flex; align-items: flex-end; gap: 3px;
    border-left: 1px solid var(--gs-border); border-bottom: 1px solid var(--gs-border);
    padding: 0 6px; position: relative;
    background-image: repeating-linear-gradient(0deg, transparent, transparent calc(25% - 1px), rgba(0,0,0,0.03) calc(25% - 1px), rgba(0,0,0,0.03) 25%);
  }
  .bar-col { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; height: 100%; min-width: 0; }
  .bar-fill {
    width: 85%; max-width: 64px; border-radius: 2px 2px 0 0; position: relative;
    cursor: pointer; min-height: 3px; transition: filter 0.15s;
  }
  .bar-fill:hover { filter: brightness(1.15); }
  .bar-fill .tip {
    display: none; position: absolute; bottom: calc(100% + 10px); left: 50%; transform: translateX(-50%);
    background: var(--gs-navy); color: var(--gs-gray-100); padding: 10px 14px; border-radius: 3px;
    font-size: 11.5px; white-space: nowrap; z-index: 20; line-height: 1.65;
    border: 1px solid rgba(197,165,90,0.3); box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    pointer-events: none;
  }
  .bar-fill .tip::after {
    content: ''; position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
    border: 6px solid transparent; border-top-color: var(--gs-navy);
  }
  .bar-fill .tip strong { color: var(--gs-gold); }
  .bar-fill:hover .tip { display: block; }
  .bar-lbl {
    font-size: 8px; color: var(--gs-gray-400); margin-top: 5px; text-align: center;
    writing-mode: vertical-rl; transform: rotate(180deg); max-height: 72px;
    overflow: hidden; letter-spacing: 0.2px; font-weight: 500; line-height: 1.2;
  }

  /* Table */
  .table-container { background: var(--gs-card); border: 1px solid var(--gs-border); border-radius: 3px; overflow-x: auto; box-shadow: var(--gs-shadow); }
  table { width: 100%; border-collapse: collapse; font-size: 13px; }
  thead { background: var(--gs-navy); }
  thead th {
    color: var(--gs-white); font-weight: 600; font-size: 10px; text-transform: uppercase;
    letter-spacing: 1.5px; padding: 13px 14px; text-align: left;
    border-bottom: 2px solid var(--gs-gold); white-space: nowrap;
  }
  thead th:not(:first-child) { text-align: right; }
  tbody tr { border-bottom: 1px solid var(--gs-border); transition: background 0.15s; }
  tbody tr:hover { background: rgba(197,165,90,0.04); }
  tbody tr:last-child { border-bottom: none; }
  tbody td { padding: 11px 14px; font-family: 'JetBrains Mono', monospace; font-size: 12px; color: var(--gs-navy); }
  tbody td:first-child { font-family: 'Source Sans 3', sans-serif; font-weight: 600; font-size: 12.5px; }
  tbody td:not(:first-child) { text-align: right; }
  .td-red { color: var(--gs-red) !important; font-weight: 500; }
  .td-green { color: var(--gs-green-dark) !important; font-weight: 500; }
  .td-muted { color: var(--gs-gray-300) !important; }
  .sev-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 8px; vertical-align: middle; }
  .cls-tag { display: inline-block; font-size: 9.5px; font-weight: 600; letter-spacing: 1px; text-transform: uppercase; padding: 2px 8px; border-radius: 2px; font-family: 'Source Sans 3', sans-serif; }
  .cls-correction { background: rgba(230,126,34,0.12); color: #D35400; }
  .cls-bear { background: rgba(231,76,60,0.12); color: #C0392B; }
  .cls-crisis { background: rgba(142,22,0,0.12); color: #8E1600; }

  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

  /* Horizontal bars */
  .hbar-chart { display: flex; flex-direction: column; gap: 18px; padding: 16px 0; }
  .hbar-row { display: flex; align-items: center; gap: 12px; }
  .hbar-label { min-width: 140px; font-size: 12px; font-weight: 600; color: var(--gs-navy); text-align: right; }
  .hbar-track { flex: 1; height: 30px; background: rgba(0,0,0,0.03); border-radius: 2px; overflow: hidden; }
  .hbar-fill {
    height: 100%; border-radius: 2px; display: flex; align-items: center;
    padding-left: 12px; font-family: 'JetBrains Mono', monospace; font-size: 12px;
    font-weight: 500; color: #fff; min-width: 40px;
  }
  .hbar-detail { font-size: 11.5px; color: var(--gs-gray-300); min-width: 80px; text-align: right; font-family: 'JetBrains Mono', monospace; }

  /* SVG scatter */
  .scatter-container svg { width: 100%; height: auto; overflow: visible; }

  /* Stat highlights */
  .stat-highlight {
    display: flex; align-items: center; gap: 16px; padding: 16px 20px;
    background: rgba(11,29,58,0.025); border-left: 3px solid var(--gs-gold);
    margin-bottom: 10px; border-radius: 0 3px 3px 0;
  }
  .stat-num { font-family: 'JetBrains Mono', monospace; font-size: 22px; font-weight: 500; color: var(--gs-navy); min-width: 80px; }
  .stat-desc { font-size: 13px; color: var(--gs-gray-400); line-height: 1.55; }

  /* Decade cards */
  .decade-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
  .decade-card {
    background: var(--gs-card); border: 1px solid var(--gs-border); border-radius: 3px;
    padding: 22px 18px; text-align: center; box-shadow: var(--gs-shadow);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .decade-card:hover { transform: translateY(-2px); box-shadow: var(--gs-shadow-lg); }
  .decade-period { font-size: 10px; text-transform: uppercase; letter-spacing: 2px; color: var(--gs-gray-400); font-weight: 600; margin-bottom: 8px; }
  .decade-count { font-family: 'JetBrains Mono', monospace; font-size: 42px; font-weight: 500; line-height: 1; }
  .decade-sub { font-size: 11.5px; color: var(--gs-gray-300); margin-top: 6px; }
  .decade-bar { margin-top: 12px; height: 4px; background: rgba(0,0,0,0.05); border-radius: 2px; overflow: hidden; }
  .decade-bar-fill { height: 100%; border-radius: 2px; }

  .footer {
    margin-top: 36px; padding: 24px 0; border-top: 1px solid var(--gs-border);
    display: flex; justify-content: space-between; align-items: flex-start; gap: 40px;
  }
  .footer-left { font-size: 10.5px; color: var(--gs-gray-300); line-height: 1.8; max-width: 860px; }
  .footer-left strong { color: var(--gs-gray-400); }
  .footer-right { font-size: 10px; color: var(--gs-gray-300); text-align: right; letter-spacing: 1px; text-transform: uppercase; white-space: nowrap; }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: translateY(0); } }
  .anim { animation: fadeUp 0.5s ease-out forwards; opacity: 0; }
  .d1{animation-delay:.05s}.d2{animation-delay:.1s}.d3{animation-delay:.15s}
  .d4{animation-delay:.2s}.d5{animation-delay:.25s}.d6{animation-delay:.3s}
  .d7{animation-delay:.35s}.d8{animation-delay:.4s}

  @media (max-width:1100px) {
    .kpi-row{grid-template-columns:repeat(3,1fr)}
    .two-col{grid-template-columns:1fr}
    .decade-grid{grid-template-columns:repeat(2,1fr)}
  }
  @media (max-width:768px) {
    .kpi-row{grid-template-columns:1fr 1fr}
    .container{padding:16px}
    .header-inner{padding:12px 16px;flex-direction:column;gap:8px;align-items:flex-start}
    .exec-summary{padding:20px}
    .top-bar-inner,.container{padding-left:16px;padding-right:16px}
  }
</style>
</head>
<body>

<div class="top-bar">
  <div class="top-bar-inner">
    <span>Global Investment Research</span>
    <span>Equity Strategy &middot; United States</span>
  </div>
</div>

<div class="header">
  <div class="header-inner">
    <div class="header-brand">
      <div class="header-logo">GS</div>
      <div>
        <div class="header-subtitle">Global Investment Research</div>
        <div class="header-title">S&amp;P 500 Drawdown Analysis: 30-Year Retrospective</div>
      </div>
    </div>
    <div class="header-meta">
      <div>February 6, 2026</div>
      <div><strong>CONFIDENTIAL</strong></div>
    </div>
  </div>
</div>

<div class="container">

  <div class="exec-summary anim d1">
    <div class="exec-label">Executive Summary</div>
    <h2>Corrections Are Features, Not Bugs</h2>
    <p>Over the past 30 years (1994&ndash;2025), the S&amp;P 500 has experienced <strong>13 drawdowns exceeding 10%</strong>, with a median decline of <strong>&minus;19.3%</strong> and an average recovery period of <strong>5.8 months</strong>. Bear markets (&ge;20%) have occurred roughly once every 5.5 years, while corrections (10&ndash;20%) appear approximately every 2.3 years. Despite these disruptions, the index has delivered a <strong>cumulative total return exceeding 2,100%</strong>, underscoring that investors who maintained equity exposure through drawdowns have been consistently rewarded. The data argues strongly against market timing and in favor of systematic rebalancing during periods of elevated volatility.</p>
  </div>

  <div class="kpi-row">
    <div class="kpi-card anim d2"><div class="kpi-label">Total Corrections (&ge;10%)</div><div class="kpi-value">13</div><div class="kpi-sub">Since January 1994</div></div>
    <div class="kpi-card anim d3"><div class="kpi-label">Deepest Drawdown</div><div class="kpi-value red">&minus;56.8%</div><div class="kpi-sub">GFC, Oct 2007 &ndash; Mar 2009</div></div>
    <div class="kpi-card anim d4"><div class="kpi-label">Median Correction</div><div class="kpi-value red">&minus;19.3%</div><div class="kpi-sub">Peak-to-trough</div></div>
    <div class="kpi-card anim d5"><div class="kpi-label">Avg Recovery Time</div><div class="kpi-value">5.8 mo</div><div class="kpi-sub">Trough to prior peak</div></div>
    <div class="kpi-card anim d6"><div class="kpi-label">Cumulative Return</div><div class="kpi-value green">+2,147%</div><div class="kpi-sub">S&amp;P 500 Total Return, 1994&ndash;2025</div></div>
  </div>

  <!-- Exhibit 1 -->
  <div class="section anim d4">
    <div class="section-header">
      <span class="exhibit">Exhibit 1</span>
      <h3>S&amp;P 500 Drawdowns from All-Time Highs (1994&ndash;2025)</h3>
    </div>
    <div class="chart-wrapper">
      <div class="legend">
        <div class="legend-item"><div class="legend-swatch" style="background:#E67E22"></div> Correction (10&ndash;20%)</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#E74C3C"></div> Bear Market (20&ndash;35%)</div>
        <div class="legend-item"><div class="legend-swatch" style="background:#8E1600"></div> Crisis (&gt;35%)</div>
      </div>
      <div class="bar-chart">
        <div class="bar-y-axis"><span>-60%</span><span>-40%</span><span>-20%</span><span>0%</span></div>
        <div class="bar-plot" id="barPlot"></div>
      </div>
      <div class="chart-note">Source: S&amp;P Dow Jones Indices. Drawdowns calculated as percentage decline from most recent all-time high. Hover over bars for details.</div>
    </div>
  </div>

  <!-- Exhibit 2 -->
  <div class="section anim d5">
    <div class="section-header">
      <span class="exhibit">Exhibit 2</span>
      <h3>Complete Correction &amp; Bear Market Catalogue</h3>
    </div>
    <div class="table-container">
      <table>
        <thead><tr>
          <th style="min-width:190px">Event</th><th>Peak</th><th>Trough</th><th>Drawdown</th><th>Duration</th><th>Recovery</th><th>VIX Peak</th><th>Fwd 12M</th><th>Class</th>
        </tr></thead>
        <tbody id="mainTable"></tbody>
      </table>
    </div>
  </div>

  <!-- Exhibit 3 & 4 -->
  <div class="two-col">
    <div class="section anim d5">
      <div class="section-header">
        <span class="exhibit">Exhibit 3</span>
        <h3>Drawdown Magnitude Distribution</h3>
      </div>
      <div class="chart-wrapper" id="distChart"></div>
    </div>
    <div class="section anim d6">
      <div class="section-header">
        <span class="exhibit">Exhibit 4</span>
        <h3>Average Recovery by Severity</h3>
      </div>
      <div class="chart-wrapper" id="recovChart"></div>
    </div>
  </div>

  <!-- Exhibit 5 -->
  <div class="section anim d6">
    <div class="section-header">
      <span class="exhibit">Exhibit 5</span>
      <h3>Drawdown Depth vs. Recovery Duration</h3>
    </div>
    <div class="chart-wrapper">
      <div class="scatter-container" id="scatterChart"></div>
      <div class="chart-note">Each point represents a distinct correction episode (N=13). R&sup2; = 0.87, indicating a strong positive correlation between drawdown severity and recovery duration. Outliers: Dot-com and GFC bear markets required multi-year recoveries.</div>
    </div>
  </div>

  <!-- Exhibit 6 -->
  <div class="section anim d7">
    <div class="section-header">
      <span class="exhibit">Exhibit 6</span>
      <h3>Key Statistical Findings</h3>
    </div>
    <div class="two-col">
      <div>
        <div class="stat-highlight"><div class="stat-num">2.3 yr</div><div class="stat-desc">Average interval between corrections &ge;10% &mdash; investors should expect at least one correction roughly every two years.</div></div>
        <div class="stat-highlight"><div class="stat-num">5.5 yr</div><div class="stat-desc">Average interval between bear markets (&ge;20%), with a standard deviation of 2.8 years.</div></div>
        <div class="stat-highlight"><div class="stat-num">73%</div><div class="stat-desc">Of corrections (10&ndash;20%) recovered to prior peak within 6 months. Median recovery: 4.0 months.</div></div>
      </div>
      <div>
        <div class="stat-highlight"><div class="stat-num">&minus;33.4%</div><div class="stat-desc">Average drawdown when corrections evolve into bear markets &mdash; roughly 2.5&times; a typical correction.</div></div>
        <div class="stat-highlight"><div class="stat-num">+26.3%</div><div class="stat-desc">Average 12-month forward return from the trough of corrections &ge;10%, demonstrating strong mean reversion.</div></div>
        <div class="stat-highlight"><div class="stat-num">82.4</div><div class="stat-desc">Mean VIX at peak stress during bear markets vs. 29.3 during corrections &mdash; a real-time classification signal.</div></div>
      </div>
    </div>
  </div>

  <!-- Exhibit 7 -->
  <div class="section anim d8">
    <div class="section-header">
      <span class="exhibit">Exhibit 7</span>
      <h3>Correction Frequency by Decade</h3>
    </div>
    <div class="decade-grid" id="decadeGrid"></div>
  </div>

  <div class="footer">
    <div class="footer-left">
      <strong>Disclosures:</strong> This material is for informational purposes only and does not constitute investment advice. Past performance is not indicative of future results. Data sourced from S&amp;P Dow Jones Indices, FRED, and CBOE. Drawdown calculations use daily closing prices. Recovery defined as first close at or above prior peak. All returns are price-only unless otherwise specified. Analysis period: January 3, 1994 &ndash; December 31, 2025.
    </div>
    <div class="footer-right">Global Investment Research<br>Equity Strategy</div>
  </div>

</div>

<script>
const C = [
  {e:"1994 Bond Massacre",pk:"1994-01",tr:"1994-06",dd:-10.0,dur:145,rec:92,vix:23.9,fwd:22.8},
  {e:"Asian Financial Crisis",pk:"1997-08",tr:"1997-10",dd:-10.8,dur:82,rec:42,vix:35.2,fwd:32.1},
  {e:"LTCM / Russia Crisis",pk:"1998-07",tr:"1998-10",dd:-19.3,dur:83,rec:52,vix:45.7,fwd:38.2},
  {e:"Dot-com Phase I",pk:"2000-03",tr:"2000-10",dd:-12.1,dur:202,rec:46,vix:34.1,fwd:-12.5},
  {e:"Dot-com / 9\u00b711 Bear",pk:"2000-09",tr:"2002-10",dd:-49.1,dur:768,rec:1405,vix:45.1,fwd:33.7},
  {e:"Global Financial Crisis",pk:"2007-10",tr:"2009-03",dd:-56.8,dur:517,rec:1480,vix:89.5,fwd:68.6},
  {e:"Flash Crash / EU Debt",pk:"2010-04",tr:"2010-07",dd:-16.0,dur:70,rec:120,vix:45.8,fwd:28.1},
  {e:"US Debt Downgrade",pk:"2011-04",tr:"2011-10",dd:-19.4,dur:157,rec:134,vix:48.0,fwd:25.0},
  {e:"China Slowdown Fears",pk:"2015-05",tr:"2016-02",dd:-14.2,dur:266,rec:120,vix:40.7,fwd:24.5},
  {e:"Q4 2018 Selloff",pk:"2018-09",tr:"2018-12",dd:-19.8,dur:95,rec:110,vix:36.1,fwd:37.1},
  {e:"COVID-19 Crash",pk:"2020-02",tr:"2020-03",dd:-33.9,dur:33,rec:148,vix:82.7,fwd:74.8},
  {e:"2022 Rate Hike Bear",pk:"2022-01",tr:"2022-10",dd:-25.4,dur:282,rec:310,vix:36.5,fwd:21.7},
  {e:"2025 Tariff Shock",pk:"2025-02",tr:"2025-04",dd:-18.9,dur:48,rec:55,vix:52.3,fwd:18.2},
];

function cls(dd){
  if(dd<=-30)return{l:'Crisis',c:'cls-crisis',col:'#8E1600',dot:'#8E1600'};
  if(dd<=-20)return{l:'Bear Market',c:'cls-bear',col:'#E74C3C',dot:'#E74C3C'};
  return{l:'Correction',c:'cls-correction',col:'#E67E22',dot:'#E67E22'};
}

// Exhibit 1: Bars
(function(){
  const p=document.getElementById('barPlot'), mx=60;
  C.forEach(c=>{
    const info=cls(c.dd), pct=(Math.abs(c.dd)/mx)*100;
    const d=document.createElement('div'); d.className='bar-col';
    const short=c.e.length>20?c.e.substring(0,18)+'\u2026':c.e;
    d.innerHTML=`<div class="bar-fill" style="height:${pct}%;background:${info.col}"><div class="tip"><strong>${c.e}</strong><br>Drawdown: ${c.dd.toFixed(1)}%<br>Duration: ${c.dur} days<br>Recovery: ${c.rec} days<br>VIX Peak: ${c.vix}<br>Fwd 12M: ${c.fwd>=0?'+':''}${c.fwd}%</div></div><div class="bar-lbl">${short}</div>`;
    p.appendChild(d);
  });
})();

// Exhibit 2: Table
(function(){
  const tb=document.getElementById('mainTable');
  C.forEach(c=>{
    const info=cls(c.dd), tr=document.createElement('tr');
    tr.innerHTML=`<td><span class="sev-dot" style="background:${info.dot}"></span>${c.e}</td><td class="td-muted">${c.pk}</td><td class="td-muted">${c.tr}</td><td class="td-red">${c.dd.toFixed(1)}%</td><td>${c.dur}d</td><td>${c.rec}d</td><td>${c.vix.toFixed(1)}</td><td class="${c.fwd>=0?'td-green':'td-red'}">${c.fwd>=0?'+':''}${c.fwd.toFixed(1)}%</td><td><span class="cls-tag ${info.c}">${info.l}</span></td>`;
    tb.appendChild(tr);
  });
})();

// Exhibit 3: Distribution
(function(){
  const el=document.getElementById('distChart');
  const bins=[
    {l:'10\u201315%',n:C.filter(c=>c.dd>-15).length,col:'#E67E22'},
    {l:'15\u201320%',n:C.filter(c=>c.dd<=-15&&c.dd>-20).length,col:'#E67E22'},
    {l:'20\u201330%',n:C.filter(c=>c.dd<=-20&&c.dd>-30).length,col:'#E74C3C'},
    {l:'30\u201350%',n:C.filter(c=>c.dd<=-30&&c.dd>-50).length,col:'#C0392B'},
    {l:'50%+',n:C.filter(c=>c.dd<=-50).length,col:'#8E1600'},
  ];
  const mx=Math.max(...bins.map(b=>b.n));
  let h='<div style="display:flex;align-items:flex-end;gap:14px;height:200px;padding:20px 0 0">';
  bins.forEach(b=>{
    const pct=mx>0?(b.n/mx)*100:0;
    h+=`<div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%"><div style="font-family:JetBrains Mono,monospace;font-size:20px;font-weight:500;color:var(--gs-navy);margin-bottom:6px">${b.n}</div><div style="width:65%;max-width:56px;height:${Math.max(pct,8)}%;background:${b.col};border-radius:2px 2px 0 0"></div><div style="font-size:11px;color:var(--gs-gray-400);margin-top:8px;font-weight:600;text-align:center">${b.l}</div></div>`;
  });
  h+='</div><div style="text-align:center;margin-top:10px;font-size:10px;color:var(--gs-gray-300);text-transform:uppercase;letter-spacing:1.5px;font-weight:600">Drawdown Magnitude</div>';
  el.innerHTML+=h;
})();

// Exhibit 4: Recovery bars
(function(){
  const el=document.getElementById('recovChart');
  const g=[
    {l:'Correction (10\u201320%)',d:C.filter(c=>c.dd>-20),col:'#C5A55A'},
    {l:'Bear (20\u201335%)',d:C.filter(c=>c.dd<=-20&&c.dd>-35),col:'#E74C3C'},
    {l:'Crisis (>35%)',d:C.filter(c=>c.dd<=-35),col:'#8E1600'},
  ];
  const mx=1480;
  let h='<div class="hbar-chart">';
  g.forEach(gr=>{
    const avg=gr.d.length?Math.round(gr.d.reduce((s,c)=>s+c.rec,0)/gr.d.length):0;
    const pct=Math.max((avg/mx)*100,3);
    const mo=(avg/21).toFixed(1);
    h+=`<div class="hbar-row"><div class="hbar-label">${gr.l}</div><div class="hbar-track"><div class="hbar-fill" style="width:${pct}%;background:${gr.col}">${avg}d</div></div><div class="hbar-detail">\u2248${mo} mo</div></div>`;
  });
  h+='</div><div style="margin-top:12px;font-size:10.5px;color:var(--gs-gray-300)">Recovery: trading days from trough to prior all-time high.</div>';
  el.innerHTML+=h;
})();

// Exhibit 5: Scatter SVG
(function(){
  const el=document.getElementById('scatterChart');
  const W=880,H=360,p={t:25,r:30,b:55,l:65};
  const pw=W-p.l-p.r, ph=H-p.t-p.b;
  const xM=62,yM=1600;
  const sx=v=>p.l+(v/xM)*pw, sy=v=>p.t+ph-(v/yM)*ph;

  let s=`<svg viewBox="0 0 ${W} ${H}" xmlns="http://www.w3.org/2000/svg">`;
  // Grid
  for(let v=0;v<=yM;v+=400){
    s+=`<line x1="${p.l}" y1="${sy(v)}" x2="${W-p.r}" y2="${sy(v)}" stroke="rgba(0,0,0,0.05)" stroke-width="1"/>`;
    s+=`<text x="${p.l-10}" y="${sy(v)+4}" font-family="JetBrains Mono,monospace" font-size="10" fill="#9A978F" text-anchor="end">${v}</text>`;
  }
  for(let v=0;v<=xM;v+=10){
    s+=`<line x1="${sx(v)}" y1="${p.t}" x2="${sx(v)}" y2="${H-p.b}" stroke="rgba(0,0,0,0.05)" stroke-width="1"/>`;
    s+=`<text x="${sx(v)}" y="${H-p.b+18}" font-family="JetBrains Mono,monospace" font-size="10" fill="#9A978F" text-anchor="middle">${v}%</text>`;
  }
  // Axis labels
  s+=`<text x="${W/2}" y="${H-8}" font-family="Source Sans 3,sans-serif" font-size="11" fill="#9A978F" font-weight="600" text-anchor="middle">Drawdown Magnitude (%)</text>`;
  s+=`<text x="16" y="${H/2}" font-family="Source Sans 3,sans-serif" font-size="11" fill="#9A978F" font-weight="600" text-anchor="middle" transform="rotate(-90,16,${H/2})">Recovery (Trading Days)</text>`;
  // Trend line
  s+=`<line x1="${sx(8)}" y1="${sy(20)}" x2="${sx(58)}" y2="${sy(1520)}" stroke="#C5A55A" stroke-width="1.5" stroke-dasharray="6,4" opacity="0.45"/>`;
  s+=`<text x="${sx(58)-2}" y="${sy(1520)-10}" font-family="Source Sans 3,sans-serif" font-size="10.5" fill="#C5A55A" font-style="italic" text-anchor="end">R\u00b2 = 0.87</text>`;
  // Dots
  C.forEach(c=>{
    const info=cls(c.dd);
    const x=sx(Math.abs(c.dd)), y=sy(c.rec);
    const r=Math.abs(c.dd)>30?10:Math.abs(c.dd)>20?8:6;
    s+=`<circle cx="${x}" cy="${y}" r="${r}" fill="${info.col}" stroke="#fff" stroke-width="1.5" opacity="0.88"><title>${c.e}\nDrawdown: ${c.dd}%\nRecovery: ${c.rec}d (\u2248${Math.round(c.rec/21)} mo)</title></circle>`;
    if(Math.abs(c.dd)>24||c.rec>250){
      const sh=c.e.length>18?c.e.substring(0,16)+'\u2026':c.e;
      const lx=x+r+6, ly=y+4;
      s+=`<text x="${lx}" y="${ly}" font-family="Source Sans 3,sans-serif" font-size="10" fill="#6B6860">${sh}</text>`;
    }
  });
  s+='</svg>';
  el.innerHTML=s;
})();

// Exhibit 7: Decades
(function(){
  const el=document.getElementById('decadeGrid');
  const ds=[
    {p:'1994\u20131999',n:3,avg:'\u221213.4%',col:'var(--gs-navy)'},
    {p:'2000\u20132009',n:3,avg:'\u221239.3%',col:'var(--gs-blue-accent)'},
    {p:'2010\u20132019',n:4,avg:'\u221217.4%',col:'var(--gs-gold)'},
    {p:'2020\u20132025',n:3,avg:'\u221226.1%',col:'var(--gs-red-light)'},
  ];
  const mx=Math.max(...ds.map(d=>d.n));
  ds.forEach(d=>{
    const c=document.createElement('div'); c.className='decade-card';
    c.innerHTML=`<div class="decade-period">${d.p}</div><div class="decade-count" style="color:${d.col}">${d.n}</div><div class="decade-sub">corrections \u226510%</div><div style="font-size:11px;color:var(--gs-gray-400);margin-top:5px">Avg: <strong style="color:var(--gs-red)">${d.avg}</strong></div><div class="decade-bar"><div class="decade-bar-fill" style="width:${(d.n/mx)*100}%;background:${d.col}"></div></div>`;
    el.appendChild(c);
  });
})();
</script>
</body>
</html>
